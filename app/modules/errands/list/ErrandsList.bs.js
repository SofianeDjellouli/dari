// Generated by ReScript, PLEASE EDIT WITH CARE
"use strict"

var React = require("react")
var Belt_Array = require("rescript/lib/js/belt_Array.js")
var React$1 = require("@ionic/react")
var DataClient = require("next/data-client")
var Errands = require("../queries/errands-levels").default
var Update = require("../mutations/update").default

var errandsQuery = Errands

var updateErrand = Update

function ErrandsList(Props) {
  var match = DataClient.usePaginatedQuery(errandsQuery, undefined)
  var errandsLevels = match[0]
  console.log(errandsLevels)
  DataClient.useMutation(updateErrand)
  return React.createElement(React$1.IonContent, {
    children:
      errandsLevels !== undefined
        ? React.createElement(
            React.Fragment,
            undefined,
            Belt_Array.map(errandsLevels, function (errandsLevel) {
              return React.createElement(React$1.IonList, {
                children: Belt_Array.map(errandsLevel.errands, function (errand) {
                  var match = errand.level
                  var color =
                    match === "Missing" ? "danger" : match === "Present" ? "success" : "warning"
                  return React.createElement(React$1.IonItem, {
                    children: React.createElement(React$1.IonLabel, {
                      children: errand.name,
                    }),
                    color: color,
                    key: String(errand.id),
                  })
                }),
                key: String(errandsLevel.id),
              })
            })
          )
        : null,
  })
}

var make = ErrandsList

exports.errandsQuery = errandsQuery
exports.updateErrand = updateErrand
exports.make = make
/* errandsQuery Not a pure module */
